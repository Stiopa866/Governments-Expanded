namespace = GE_Italian_Reforms_Events

#Mantua House of Gonzaga reform modifier
country_event = {
	id = GE_Italian_Reforms_Events.1
	title = GE_Italian_Reforms_Events.1.T
	desc = GE_Italian_Reforms_Events.1.D
	picture = GOOD_WITH_MONARCH_eventPicture
	hidden = yes

	trigger = {
		has_government_attribute = enables_marriage_policies
		OR = {
			AND = {
				diplomatic_reputation = 1
				NOT = { diplomatic_reputation = 2 }
				NOT = { has_country_modifier = GE_Mantua_Marriage_Policies_1 }
			}
			AND = {
				diplomatic_reputation = 2
				NOT = { diplomatic_reputation = 3 }
				NOT = { has_country_modifier = GE_Mantua_Marriage_Policies_2 }
			}
			AND = {
				diplomatic_reputation = 3
				NOT = { diplomatic_reputation = 4 }
				NOT = { has_country_modifier = GE_Mantua_Marriage_Policies_3 }
			}
			AND = {
				diplomatic_reputation = 4
				NOT = { diplomatic_reputation = 5 }
				NOT = { has_country_modifier = GE_Mantua_Marriage_Policies_4 }
			}
			AND = {
				diplomatic_reputation = 5
				NOT = { has_country_modifier = GE_Mantua_Marriage_Policies_5 }
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		if = {
			limit = {
				diplomatic_reputation = 1
				NOT = { diplomatic_reputation = 2 }
			}
			add_country_modifier = {
				name = GE_Mantua_Marriage_Policies_1
				duration = -1
				hidden = yes
			}
			remove_country_modifier = GE_Mantua_Marriage_Policies_2
			remove_country_modifier = GE_Mantua_Marriage_Policies_3
			remove_country_modifier = GE_Mantua_Marriage_Policies_4
			remove_country_modifier = GE_Mantua_Marriage_Policies_5
		}
		if = {
			limit = {
				diplomatic_reputation = 2
				NOT = { diplomatic_reputation = 3 }
			}
			add_country_modifier = {
				name = GE_Mantua_Marriage_Policies_2
				duration = -1
				hidden = yes
			}
			remove_country_modifier = GE_Mantua_Marriage_Policies_1
			remove_country_modifier = GE_Mantua_Marriage_Policies_3
			remove_country_modifier = GE_Mantua_Marriage_Policies_4
			remove_country_modifier = GE_Mantua_Marriage_Policies_5
		}
		if = {
			limit = {
				diplomatic_reputation = 3
				NOT = { diplomatic_reputation = 4 }
			}
			add_country_modifier = {
				name = GE_Mantua_Marriage_Policies_3
				duration = -1
				hidden = yes
			}
			remove_country_modifier = GE_Mantua_Marriage_Policies_1
			remove_country_modifier = GE_Mantua_Marriage_Policies_2
			remove_country_modifier = GE_Mantua_Marriage_Policies_4
			remove_country_modifier = GE_Mantua_Marriage_Policies_5
		}
		if = {
			limit = {
				diplomatic_reputation = 4
				NOT = { diplomatic_reputation = 5 }
			}
			add_country_modifier = {
				name = GE_Mantua_Marriage_Policies_4
				duration = -1
				hidden = yes
			}
			remove_country_modifier = GE_Mantua_Marriage_Policies_1
			remove_country_modifier = GE_Mantua_Marriage_Policies_2
			remove_country_modifier = GE_Mantua_Marriage_Policies_3
			remove_country_modifier = GE_Mantua_Marriage_Policies_5
		}
		if = {
			limit = {
				diplomatic_reputation = 5
			}
			add_country_modifier = {
				name = GE_Mantua_Marriage_Policies_5
				duration = -1
				hidden = yes
			}
			remove_country_modifier = GE_Mantua_Marriage_Policies_1
			remove_country_modifier = GE_Mantua_Marriage_Policies_2
			remove_country_modifier = GE_Mantua_Marriage_Policies_3
			remove_country_modifier = GE_Mantua_Marriage_Policies_4
		}
	}

	option = {
		name = GE_Italian_Reforms_Events.1.OPT1
	}
}

#Mantua Knightly Orders reform modifier
country_event = {
	id = GE_Italian_Reforms_Events.2
	title = GE_Italian_Reforms_Events.2.T
	desc = GE_Italian_Reforms_Events.2.D
	picture = GOOD_WITH_MONARCH_eventPicture
	hidden = yes

	trigger = {
		has_government_attribute = enables_ordine_cordone_giallo
		OR = {
			AND = {
				has_global_modifier_value = {
					which = tolerance_own
					value = 4
				}
				NOT = {
					has_global_modifier_value = {
						which = tolerance_own
						value = 6
					}
				}
				NOT = { has_country_modifier = GE_Mantua_Knightly_Orders_1 }
			}
			AND = {
				has_global_modifier_value = {
					which = tolerance_own
					value = 6
				}
				NOT = {
					has_global_modifier_value = {
						which = tolerance_own
						value = 8
					}
				}
				NOT = { has_country_modifier = GE_Mantua_Knightly_Orders_2 }
			}
			AND = {
				has_global_modifier_value = {
					which = tolerance_own
					value = 8
				}
				NOT = {
					has_global_modifier_value = {
						which = tolerance_own
						value = 10
					}
				}
				NOT = { has_country_modifier = GE_Mantua_Knightly_Orders_3 }
			}
			AND = {
				has_global_modifier_value = {
					which = tolerance_own
					value = 10
				}
				NOT = { has_country_modifier = GE_Mantua_Knightly_Orders_4 }
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		if = {
			limit = {
				has_global_modifier_value = {
					which = tolerance_own
					value = 4
				}
				NOT = {
					has_global_modifier_value = {
						which = tolerance_own
						value = 5
					}
				}
			}
			add_country_modifier = {
				name = GE_Mantua_Knightly_Orders_1
				duration = -1
				hidden = yes
			}
			remove_country_modifier = GE_Mantua_Knightly_Orders_2
			remove_country_modifier = GE_Mantua_Knightly_Orders_3
			remove_country_modifier = GE_Mantua_Knightly_Orders_4
		}
		if = {
			limit = {
				has_global_modifier_value = {
					which = tolerance_own
					value = 5
				}
				NOT = {
					has_global_modifier_value = {
						which = tolerance_own
						value = 6
					}
				}
			}
			add_country_modifier = {
				name = GE_Mantua_Knightly_Orders_2
				duration = -1
				hidden = yes
			}
			remove_country_modifier = GE_Mantua_Knightly_Orders_1
			remove_country_modifier = GE_Mantua_Knightly_Orders_3
			remove_country_modifier = GE_Mantua_Knightly_Orders_4
		}
		if = {
			limit = {
				has_global_modifier_value = {
					which = tolerance_own
					value = 6
				}
				NOT = {
					has_global_modifier_value = {
						which = tolerance_own
						value = 7
					}
				}
			}
			add_country_modifier = {
				name = GE_Mantua_Knightly_Orders_3
				duration = -1
				hidden = yes
			}
			remove_country_modifier = GE_Mantua_Knightly_Orders_1
			remove_country_modifier = GE_Mantua_Knightly_Orders_2
			remove_country_modifier = GE_Mantua_Knightly_Orders_4
		}
		if = {
			limit = {
				has_global_modifier_value = {
					which = tolerance_own
					value = 7
				}
			}
			add_country_modifier = {
				name = GE_Mantua_Knightly_Orders_4
				duration = -1
				hidden = yes
			}
			remove_country_modifier = GE_Mantua_Knightly_Orders_1
			remove_country_modifier = GE_Mantua_Knightly_Orders_2
			remove_country_modifier = GE_Mantua_Knightly_Orders_3
		}
	}

	option = {
		name = GE_Italian_Reforms_Events.2.OPT1
	}
}